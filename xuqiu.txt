一、核心需求概述
1.1 核心目标
为影视剪辑从业者提供轻量、高效的本地素材管理工具，支持通过 TMDB 拉取影视元数据，自动匹配指定文件夹下同名 / 关联的 MP3（配音）、DOC/DOCX（文案）、PNG/JPG（封面）等素材，实现影视素材的统一归类、检索和管理，无需依赖云端，仅本地运行。
1.2 核心价值
解决本地素材分散、命名不统一导致的查找效率低问题；
结合 TMDB 标准化影视信息，提升素材管理的规范性；
轻量跨平台（Windows/macOS/Linux），包体积小、启动快，不占用过多系统资源；
仅记录文件路径，不移动 / 修改原文件，保障素材安全性。
1.3 非核心需求（V1.0 暂不支持）
素材在线备份 / 同步；
多人协作功能；
视频 / 音频剪辑预览；
素材格式转换；
移动端适配。
二、功能模块总览
一级模块	二级模块	核心功能
影视管理	影视添加	1. 手动导入本地影视文件；2. 通过 TMDB 搜索 / 添加影视；3. 手动关联 TMDB 条目到本地影视
影视列表	1. 展示已添加影视的基础信息；2. 影视搜索 / 筛选 / 排序；3. 影视条目编辑 / 删除
素材匹配	文件夹管理	1. 添加 / 删除 / 编辑素材监控文件夹；2. 保存文件夹配置
素材匹配	1. 按影视名称模糊匹配指定文件夹下的 MP3/DOC/DOCX/PNG/JPG 等素材；2. 展示匹配结果；3. 手动关联 / 取消素材
素材管理	素材列表	1. 展示影视关联的所有素材；2. 素材预览 / 打开 / 定位文件夹；3. 素材标签管理；4. 素材删除（仅解除关联，不删原文件）
系统设置	基础设置	1. TMDB API Key 配置；2. 模糊匹配相似度阈值设置；3. 海报缓存路径设置；4. 语言 / 主题设置（浅色 / 深色）
数据管理	1. 数据库备份 / 恢复；2. 缓存清理（海报 / 临时文件）；3. 日志查看 / 导出
辅助功能	全局检索	跨影视 / 素材的关键词检索；2. 按素材类型筛选检索结果
快捷键设置	常用操作快捷键自定义（可选）
三、详细页面功能与 UI 组件设计
3.1 首页 / 影视列表页（默认打开页）
3.1.1 页面定位
作为软件核心入口，展示所有已添加的影视条目，提供影视添加、搜索、筛选等基础操作。
3.1.2 页面布局与功能
区域	功能描述	用到的 Ant Design 组件	交互逻辑
顶部操作栏	1. 新增影视（按钮：“导入本地影视”“从 TMDB 添加”）；2. 全局搜索框（支持搜索影视名称 / TMDB ID）；3. 筛选按钮（按添加时间 / 评分 / 影视类型）；4. 刷新按钮	Button、Input、Dropdown、Select、Space	1. 点击 “导入本地影视”：弹出文件选择对话框，选择本地视频文件（MP4/MKV 等），提取文件名后进入 “影视信息编辑” 弹窗；2. 点击 “从 TMDB 添加”：跳转到 TMDB 搜索页；3. 筛选按钮展开下拉菜单，支持按 “添加时间（最新 / 最早）”“评分（高→低 / 低→高）”“影视类型（电影 / 剧集）” 筛选；4. 全局搜索框输入关键词，实时过滤影视列表
影视列表区	1. 以卡片网格形式展示影视条目；2. 每个卡片包含：海报、影视名称、评分、添加时间、操作按钮（编辑 / 匹配素材 / 删除）；3. 分页控件（支持每页展示数量调整）	Card、List（网格布局）、Rate、Pagination、Tooltip	1. 点击影视卡片：进入该影视的 “素材详情页”；2. 点击 “编辑”：弹出 “影视信息编辑” 弹窗；3. 点击 “匹配素材”：跳转到该影视的 “素材匹配页”；4. 点击 “删除”：弹出确认弹窗，删除后仅移除数据库记录，不删除原文件；5. 卡片 hover 时展示影视简介 Tooltip
空状态区	无影视条目时展示空状态，提示 “暂无添加的影视，点击‘新增’按钮添加”	Empty	点击空状态中的 “新增” 按钮，触发 “导入本地影视” 或 “从 TMDB 添加” 操作
3.1.3 核心交互规则
导入本地影视时，自动提取文件名作为影视名称，若文件名包含 TMDB ID / 影视别名，尝试自动匹配 TMDB 信息；
影视列表默认按 “添加时间最新” 排序，支持记忆用户上次筛选条件；
分页默认每页展示 12 个影视卡片，支持用户调整为 6/24/48。
3.2 TMDB 搜索 / 添加页
3.2.1 页面定位
通过 TMDB 接口搜索影视，拉取标准化元数据并添加到本地库。
3.2.2 页面布局与功能
区域	功能描述	用到的 Ant Design 组件	交互逻辑
搜索区	1. 搜索输入框（支持输入影视名称 / 关键词）；2. 搜索按钮；3. 筛选选项（地区：中 / 英 / 日等、类型：电影 / 剧集、年份）	Input、Button、Select、Form（行内布局）	1. 输入关键词后点击搜索 / 按回车，调用 TMDB 接口返回搜索结果；2. 筛选选项可组合筛选，仅在点击 “搜索” 后生效；3. 搜索框支持记忆最近 5 次搜索关键词
结果列表区	1. 以卡片列表形式展示 TMDB 搜索结果；2. 每个卡片包含：海报、影视名称（中文 + 原名）、评分、上映年份、简介（截断）、操作按钮（添加到本地 / 查看详情）	Card、List、Rate、Typography（Text/Paragraph）	1. 点击 “添加到本地”：拉取该影视完整元数据（海报、简介、类型、演员等），弹出 “影视信息确认” 弹窗，确认后保存到本地数据库；2. 点击 “查看详情”：在卡片下方展开完整简介 / 更多信息；3. 海报加载失败时显示默认占位图
操作反馈区	展示搜索加载状态、无结果提示、接口错误提示	Spin、Empty、Alert	1. 搜索中显示加载动画；2. 无结果时显示 “未找到相关影视，请调整关键词 / 筛选条件”；3. 接口错误（如 API Key 无效）时显示红色 Alert，提示 “TMDB 接口调用失败，请检查 API Key 配置”
3.2.3 核心交互规则
添加影视到本地时，自动下载海报到本地缓存目录，避免重复请求 TMDB；
若本地已存在相同 TMDB ID 的影视，提示 “该影视已添加，是否覆盖信息？”；
支持批量选择多个影视添加（V1.0 可选）。
3.3 影视信息编辑弹窗
3.3.1 弹窗定位
编辑 / 确认影视的基础信息，关联本地视频文件。
3.3.2 弹窗布局与功能
区域	功能描述	用到的 Ant Design 组件	交互逻辑
表单区	1. 影视名称（必填）；2. TMDB ID（可选，自动填充 / 手动修改）；3. 本地视频路径（可选，输入 / 选择文件）；4. 影视别名（可选，多输入框，用于提升素材匹配率）；5. 备注（可选，多行文本）	Form、Input、Input.Group、Input.TextArea、Button（文件选择）	1. 本地视频路径点击 “选择文件”：弹出文件选择对话框，选择后自动填充路径；2. 影视别名支持添加 / 删除多行，每行一个别名；3. 表单校验：影视名称不能为空，TMDB ID 为数字格式
操作按钮区	1. 保存按钮；2. 取消按钮	Button、Space	1. 点击保存：校验表单后更新数据库，关闭弹窗并刷新影视列表；2. 点击取消：关闭弹窗，不保存修改
3.3.3 核心交互规则
从 TMDB 添加的影视，自动填充名称、TMDB ID 等信息，仅需确认 / 补充本地视频路径；
手动导入的影视，默认填充文件名为名称，可手动关联 TMDB ID（输入后自动拉取 TMDB 信息）。
3.4 素材匹配页
3.4.1 页面定位
为指定影视匹配本地文件夹下的关联素材（MP3/DOC/DOCX/PNG/JPG 等）。
3.4.2 页面布局与功能
区域	功能描述	用到的 Ant Design 组件	交互逻辑
影视信息区	展示当前影视的名称、海报、匹配进度（如 “已匹配 3 类素材”）	Card、Avatar、Typography	仅展示信息，无交互
文件夹管理区	1. 已添加的素材文件夹列表（标签形式展示）；2. 操作按钮：“添加文件夹”“删除文件夹”“清空文件夹”；3. 匹配设置：模糊匹配相似度阈值（滑块 / 输入框，默认 80）	Tag、Button、Slider、InputNumber、Space	1. 点击 “添加文件夹”：弹出文件夹选择对话框，支持多选，添加后显示为标签；2. 点击标签右侧 “×”：删除单个文件夹；3. 相似度阈值调整：实时生效，范围 0-100，数值越高匹配越严格；4. 文件夹列表记忆用户上次配置
匹配操作区	1. 一键匹配按钮；2. 匹配范围选择（全部类型 / 指定类型：MP3/DOC/DOCX/PNG/JPG）	Button、Checkbox.Group、Space	1. 选择匹配类型后点击 “一键匹配”：开始遍历指定文件夹，按影视名称 / 别名模糊匹配对应类型文件，展示匹配进度；2. 匹配过程中禁止重复点击，显示加载动画
匹配结果区	1. 按素材类型分类展示（标签页形式：全部 / MP3 / 文案 / 封面）；2. 列表展示匹配到的素材：文件名、路径、大小、匹配相似度、操作按钮（关联 / 预览 / 定位文件夹）；3. 空状态：无匹配结果时提示 “未匹配到相关素材，请调整文件夹 / 相似度阈值”	Tabs、Table、Empty、Tag、Button	1. 点击 “关联”：将素材绑定到当前影视，同步到数据库；2. 点击 “预览”：简单预览（如文本文件展示前 200 字，图片展示缩略图，音频播放前 10 秒）；3. 点击 “定位文件夹”：调用系统默认文件管理器，打开素材所在文件夹；4. 列表支持按文件名 / 相似度排序
3.4.3 核心交互规则
匹配仅遍历文件夹内文件（含子文件夹），不修改 / 移动原文件，仅记录路径；
已关联的素材标注 “已关联” 标签，禁止重复关联；
匹配进度实时展示（如 “正在遍历文件夹 X，已扫描 100/500 个文件”）。
3.5 影视素材详情页
3.5.1 页面定位
展示指定影视的所有关联素材，提供素材管理操作。
3.5.2 页面布局与功能
区域	功能描述	用到的 Ant Design 组件	交互逻辑
顶部导航区	1. 返回按钮（回到影视列表）；2. 影视名称；3. 操作按钮：“重新匹配素材”“编辑影视信息”“删除影视”	Breadcrumb、Button、Typography	1. 点击返回：回到影视列表页；2. 点击 “重新匹配素材”：跳转到该影视的素材匹配页；3. 点击 “编辑影视信息”：弹出编辑弹窗；4. 点击 “删除影视”：弹出确认弹窗，删除后解除所有素材关联
素材分类区	1. 按类型分类展示素材统计（如 “配音 (2)、文案 (1)、封面 (3)”）；2. 分类标签切换	Statistic、Tabs、Space	点击分类标签，切换展示对应类型的素材列表
素材列表区	1. 表格展示素材信息：文件名、类型、路径、大小、添加时间、标签、操作按钮（预览 / 打开 / 定位 / 编辑标签 / 解除关联）；2. 批量操作：批量解除关联、批量添加标签	Table、Tag、Button、Checkbox、Dropdown	1. 点击 “打开”：调用系统默认程序打开素材；2. 点击 “编辑标签”：弹出输入框，支持添加 / 修改标签（如 “终版文案”“已配音”）；3. 点击 “解除关联”：仅解除与当前影视的绑定，不删除原文件；4. 批量操作：勾选多行后，可执行批量解除关联 / 批量添加标签
素材上传区（可选）	手动上传素材按钮：“上传配音”“上传文案”“上传封面”	Upload、Button	点击上传按钮：选择文件后，自动保存到指定文件夹并关联到当前影视
3.5.3 核心交互规则
素材标签支持自定义，同一素材可添加多个标签；
列表支持按添加时间 / 文件名排序，支持关键词搜索素材；
解除关联的素材仍保留在本地文件夹，仅从当前影视的关联列表中移除。
3.6 系统设置页
3.6.1 页面定位
配置软件基础参数、管理数据 / 缓存，保障软件正常运行。
3.6.2 页面布局与功能
区域	功能描述	用到的 Ant Design 组件	交互逻辑
侧边导航区	分类导航：“基础设置”“数据管理”“快捷键（可选）”“关于”	Menu	点击导航项，切换到对应设置面板
基础设置面板	1. TMDB API Key 配置（输入框 + 保存按钮）；2. 模糊匹配默认阈值（滑块，默认 80）；3. 海报缓存路径（输入框 + 选择文件夹按钮）；4. 主题设置（单选：浅色 / 深色 / 跟随系统）；5. 语言设置（单选：中文 / 英文）；6. 保存按钮	Form、Input、Slider、Radio.Group、Button、Select	1. API Key 配置：输入后点击保存，即时生效，支持校验 Key 有效性；2. 海报缓存路径：选择后保存，软件后续下载的海报将存储到该路径；3. 主题 / 语言设置：保存后即时切换，记忆用户选择；4. 所有设置修改后需点击 “保存” 生效，未保存时离开页面提示 “有未保存的修改”
数据管理面板	1. 数据库备份（按钮：“备份数据库”，选择保存路径）；2. 数据库恢复（按钮：“恢复数据库”，选择备份文件）；3. 缓存清理（海报缓存 / 日志文件，显示缓存大小 +“清理” 按钮）；4. 日志查看（文本区域展示最近日志，按钮：“导出日志”“清空日志”）	Button、Upload、Typography、TextArea、Alert、Progress	1. 备份数据库：将 SQLite 数据库文件保存到指定路径，提示 “备份成功”；2. 恢复数据库：选择备份文件后，覆盖当前数据库（需二次确认）；3. 缓存清理：点击后删除指定缓存文件，显示清理进度，完成后提示 “清理完成”；4. 日志查看：展示最近 1000 行日志，支持复制 / 导出为 TXT 文件
快捷键面板（可选）	1. 常用操作快捷键展示（如 “全局搜索：Ctrl+F”）；2. 自定义快捷键（输入框 + 保存）	Table、Input、Button	1. 展示默认快捷键；2. 自定义快捷键：输入新快捷键（如 “Alt+M”），保存后覆盖默认设置，支持校验快捷键冲突
关于面板	1. 软件版本号；2. 版权信息；3. 检查更新按钮；4. 反馈入口（链接 / 输入框）	Typography、Button、Input.TextArea	1. 检查更新：检测是否有新版本，提示 “当前为最新版本” 或 “发现新版本，是否下载”；2. 反馈入口：输入反馈内容后，支持导出为文本文件（本地保存）
3.6.3 核心交互规则
基础设置修改后即时生效，无需重启软件；
数据库恢复操作有风险，需二次确认并提示 “恢复后将覆盖当前所有数据”；
缓存清理仅删除海报、日志等临时文件，不删除影视 / 素材关联数据。
3.7 全局检索页 / 组件
3.7.1 组件定位
跨所有影视和素材的全局检索，快速定位目标内容。
3.7.2 组件布局与功能
区域	功能描述	用到的 Ant Design 组件	交互逻辑
检索入口	全局快捷键（如 Ctrl+F）/ 顶部导航栏搜索框	Input、Tooltip	1. 按下快捷键 / 点击搜索框，弹出全局检索面板；2. 搜索框支持输入关键词，实时检索
检索面板	1. 检索结果分类：影视、配音素材、文案素材、封面素材；2. 结果列表：展示匹配项（名称、类型、路径 / 影视信息）；3. 筛选按钮：按类型筛选结果	Drawer、Tabs、List、Button、Checkbox	1. 输入关键词后，实时展示所有匹配的影视 / 素材；2. 点击筛选按钮，可仅展示某类结果（如仅展示文案素材）；3. 点击结果项：跳转到对应影视详情页 / 素材预览页
3.7.3 核心交互规则
检索支持模糊匹配，优先匹配名称，其次匹配路径 / 备注；
检索面板支持 Esc 键关闭，记忆上次检索关键词；
结果列表最多展示 50 条匹配项，支持分页。
四、非功能需求
4.1 性能需求
启动速度：软件启动时间≤3 秒；
素材匹配速度：遍历 1000 个文件的文件夹，匹配时间≤5 秒；
检索速度：全局检索关键词，结果展示≤1 秒；
内存占用：运行时内存占用≤200MB（Windows 10 64 位环境）。
4.2 兼容性需求
操作系统：支持 Windows 10/11（64 位）、macOS 12+、Linux（Ubuntu 20.04+）；
分辨率：支持最小分辨率 1280×720，适配 4K 屏幕；
文件格式支持：
视频：MP4、MKV、AVI、MOV；
音频：MP3、WAV、M4A；
文档：DOC、DOCX、TXT；
图片：PNG、JPG、JPEG、WebP。
4.3 安全性需求
仅读取 / 记录本地文件路径，不修改 / 删除原文件（除非用户手动确认）；
数据库文件加密存储（可选），防止影视 / 素材信息泄露；
TMDB API Key 本地加密存储，不随日志 / 备份文件泄露；
操作日志记录关键操作（如删除影视、解除素材关联），便于追溯。
4.4 易用性需求
界面风格：贴合 Ant Design 设计规范，简洁明了，符合剪辑从业者操作习惯；
操作引导：首次使用时展示新手引导（如 “如何添加影视”“如何匹配素材”）；
错误提示：所有操作错误需给出明确、可解决的提示（如 “匹配失败：文件夹不存在”）；
状态反馈：耗时操作（如素材匹配、数据库备份）展示进度条 / 加载动画。
4.5 可维护性需求
代码规范：前端遵循 React 最佳实践，Rust 代码遵循官方规范；
日志规范：按级别（INFO/WARN/ERROR）记录日志，包含时间、操作人、操作内容、错误信息；
配置分离：所有可配置项（如 TMDB 接口地址、默认缓存路径）集中管理，便于修改。
五、数据字典
5.1 影视表（movies）
字段名	字段类型	是否必填	备注
id	INTEGER	是	主键，自增
tmdb_id	INTEGER	否	TMDB 唯一标识，唯一键
title	TEXT	是	影视名称
original_title	TEXT	否	影视原始名称（外文）
overview	TEXT	否	影视简介
poster_path	TEXT	否	本地海报缓存路径
release_date	TEXT	否	上映日期
vote_average	REAL	否	TMDB 评分
local_video_path	TEXT	否	本地视频文件路径
aliases	TEXT	否	影视别名（JSON 格式，多别名）
add_time	TIMESTAMP	是	添加时间，默认当前时间
remark	TEXT	否	备注信息
5.2 素材表（materials）
字段名	字段类型	是否必填	备注
id	INTEGER	是	主键，自增
movie_id	INTEGER	是	关联影视表 id，外键
material_type	TEXT	是	素材类型：mp3/doc/docx/png/jpg 等
material_path	TEXT	是	本地素材路径，唯一键
file_size	INTEGER	否	文件大小（字节）
file_name	TEXT	是	文件名（不含路径）
similarity	INTEGER	否	匹配相似度（0-100）
tags	TEXT	否	素材标签（JSON 格式，多标签）
add_time	TIMESTAMP	是	添加时间，默认当前时间
update_time	TIMESTAMP	是	更新时间，默认当前时间
5.3 配置表（configs）
字段名	字段类型	是否必填	备注
id	INTEGER	是	主键，自增
config_key	TEXT	是	配置键（如 tmdb_api_key、match_threshold）
config_value	TEXT	是	配置值
update_time	TIMESTAMP	是	更新时间
六、验收标准
6.1 功能验收
功能点	验收标准
影视添加	1. 可导入本地视频文件，自动填充名称；2. 可通过 TMDB 搜索并添加影视，拉取完整元数据；3. 可手动编辑影视信息，保存后实时生效
素材匹配	1. 可添加多个素材文件夹，记忆配置；2. 可调整匹配阈值，阈值越高匹配结果越精准；3. 可按类型筛选匹配，匹配结果展示相似度；4. 匹配后可关联素材到影视
素材管理	1. 可预览 / 打开 / 定位素材；2. 可添加 / 编辑素材标签；3. 可解除素材关联，不删除原文件；4. 可批量操作素材
系统设置	1. 可配置 TMDB API Key，支持校验有效性；2. 可备份 / 恢复数据库，操作后数据完整；3. 可清理缓存，释放磁盘空间；4. 可切换主题 / 语言，即时生效
全局检索	1. 可通过快捷键 / 搜索框触发检索；2. 检索结果分类展示，点击可跳转；3. 支持模糊匹配，结果展示≤1 秒
6.2 非功能验收
验收项	验收标准
性能	1. 启动时间≤3 秒；2. 1000 个文件匹配≤5 秒；3. 内存占用≤200MB
兼容性	1. 在 Windows 11、macOS 13 上正常运行；2. 支持指定的所有文件格式；3. 适配 1280×720、2560×1440 分辨率
安全性	1. 不擅自修改 / 删除原文件；2. API Key 加密存储；3. 关键操作有日志记录
易用性	1. 界面无明显布局错乱；2. 新手引导清晰；3. 错误提示明确，可解决
七、版本规划
V1.0 核心版本（优先实现）
影视添加（本地导入 + TMDB 搜索）；
素材文件夹管理 + 模糊匹配；
影视素材详情展示与基础操作（打开 / 定位 / 解除关联）；
基础设置（TMDB API Key、匹配阈值）；
数据库备份 / 恢复。
V1.1 优化版本
素材标签管理；
全局检索功能；
深色模式适配；
批量操作优化；
日志查看 / 导出。
V1.2 扩展版本
快捷键自定义；
素材手动上传；
海报缓存优化；
多语言支持；
性能优化（大文件夹匹配提速）。